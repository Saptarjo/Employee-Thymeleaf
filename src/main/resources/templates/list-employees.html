<html xmlns="http://thymeleaf.org">

<head>

<title>List Employees</title>


<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jq-3.6.0/dt-1.12.1/datatables.min.css"/>



</head>


<body>

	<div class="container ">
	<div class="row justify-content-center">
	<div class="col-md-9  ">
		<h2>List Employees</h2>

		<hr />
		
		<a th:href="@{/addEmployeeForm}" class="btn btn-primary mb-2">Add Employee</a>

		<table border="1" id="employee-table" class="text-center table-striped table table-bordered" style="width:100%;">
			<thead >
				<tr >

					<td>Name</td>
					<td>Email</td>
					<td>Department</td>
					<td>Actions</td>

				</tr>


			</thead>

			<tbody >
				<tr th:each="employee: ${employees}">

					<td th:text="${employee.name}"></td>

					<td th:text="${employee.email}"></td>

					<td th:text="${employee.department}"></td>
					
					<td >
						<a th:href="@{/showUpdateForm(employeeId=${employee.id})}" class="btn btn-warning">Update</a>
						<a th:href="@{/deleteEmployee(employeeId=${employee.id})}" class="btn btn-danger ms-1">Delete</a>
					</td>
				</tr>

			</tbody>


		</table>
		</div>
		
		</div>

	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jq-3.6.0/dt-1.12.1/datatables.min.js"></script>

<script type="text/javascript">

	$(document).ready(function() {
		$("#employee-table").DataTable({
			'aoColumnDefs':[{
				'bSortable': false,
				'aTargets':[-1]
			}]
		});
	})
</script>

</body>
</html>